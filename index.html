<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="logo.png" sizes="32x32" />
  <title>NOIZ — Live Streaming Shell</title>

  <!-- Rubik font -->
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/variables.css" />
  <link rel="stylesheet" href="styles/layout.css" />
</head>

<body class="noiz-theme">
  <main id="layoutRoot">
    <!-- FAR-LEFT RAIL: STREAMERS -->
    <nav class="server__section" aria-label="Streamers">
      <div class="white__line hidden">
        <div class="home" title="NOIZ Home" data-nav="home">
          <svg width="22" height="22" viewBox="0 0 24 24"><path fill="#fff" d="M12 3l9 8h-3v10h-5V15H11v6H6V11H3l9-8z"/></svg>
        </div>
      </div>
      <div class="home__seperator"></div>
      <div id="streamerRail"></div>
    </nav>

    <!-- TOP BAR -->
    <div class="topbar">
      <header class="topbar__left">
        <img src="logo.png" alt="NOIZ" class="topbar__logo">
        <div class="heading" id="headerTitle">NOIZ — Discover</div>
      </header>

      <div class="topbar__icons">
        <button id="rightToggle" class="iconbtn" title="Toggle panel" aria-label="Toggle panel"></button>
        <button id="chatViewToggle" class="iconbtn hide" title="Chat View" aria-label="Chat View"></button>
        <button id="streamerToggle" class="iconbtn hide" title="Live Chat panel" aria-label="Live Chat panel"></button>

        <input type="text" placeholder="Search games, creators, brands…" aria-label="Search NOIZ">
        <!-- Badge Legend trigger -->
        <button id="badgeLegendBtn" class="iconbtn" title="Badge Legend" aria-label="Badge Legend">
          <svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2 3 7v10l9 5 9-5V7Zm0 2.2 6.5 3.6v7.4L12 18.8 5.5 15.2V7.6ZM11 7h2v2h-2Zm0 3h2v7h-2Z"/></svg>
        </button>
        <svg width="24" height="24" viewBox="0 0 24 24" title="Inbox"><path fill="currentColor" d="M19 3H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Zm0 12h-4a3 3 0 0 1-6 0H5V5h14v10Z"/></svg>
        <svg width="24" height="24" viewBox="0 0 24 24" title="Help"><path fill="currentColor" d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm1 16h-2v-2h2v2Zm2.07-7.75-.9.92A3.5 3.5 0 0 0 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26a1.99 1.99 0 0 0-1.41-3.4c-1.1 0-2 .9-2 2H8a4 4 0 1 1 7.07 2.25Z"/></svg>
      </div>
    </div>

    <!-- LEFT SIDEBAR -->
    <aside class="chat__names">
      <div class="server__name" id="sidebarHeader">
        NOIZ — Home
        <img src="down-arrow.svg" alt="">
      </div>

      <!-- Home menu (replaced by Streamer Tabs when a channel is open) -->
      <div class="chats" id="noizMenu">
        <div class="chat__category"><img src="down-arrow.svg" alt="">HOME</div>
        <div class="chat__title" data-view="discover">
          <svg width="20" height="20"><circle cx="10" cy="10" r="9" fill="currentColor"/></svg>
          Discover
        </div>
        <div class="chat__title before-none" data-view="browse">
          <svg width="20" height="20"><rect x="3" y="3" width="14" height="14" fill="currentColor"/></svg>
          Browse
        </div>
        <div class="chat__title before-none" data-view="quests">
          <svg width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l7 4v6c0 5-3.5 9-7 10-3.5-1-7-5-7-10V6l7-4z"/></svg>
          Quests
        </div>
        <div class="chat__title before-none" data-view="market">
          <svg width="20" height="20"><path d="M3 7h18v10H3zM6 5h12v2H6z" fill="currentColor"/></svg>
          Market
        </div>
      </div>

      <!-- Sidebar footer: Active Quest + user -->
      <div class="sidebar__footer">
        <div class="active-quest hide" id="activeQuestBox">
          <div class="quest-name" id="activeQuestName">No active quest</div>
          <div class="quest-progress">
            <div class="quest-progress-bar" id="activeQuestBar"></div>
          </div>
        </div>

        <div class="user__profile">
          <img class="user__avatar" src="user-avatar.png" alt="Your avatar">
          <div class="user__name">you</div>
          <div class="user__status">Ready to stream</div>
          <svg class="mic__icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 14a3 3 0 0 0 3-3V5a3 3 0 1 0-6 0v6a3 3 0 0 0 3 3z"/></svg>
          <svg class="speaker__icon" viewBox="0 0 24 24"><path fill="currentColor" d="M3 10v4h4l5 5V5L7 10H3z"/></svg>
          <svg class="settings__icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/></svg>
        </div>
      </div>
    </aside>

    <!-- CENTER -->
    <section class="chat__section" id="center">
      <div id="content"></div>
    </section>

    <!-- RIGHT (member_sidebar) -->
    <aside class="members__section" id="membersSection" aria-label="Right panel">
      <div class="role__name" id="sidepanel-title">PANEL</div>

      <div id="sidepanelScroll" class="sidepanel__scroll">
        <div id="sidepanel"></div>
      </div>

      <!-- Right-panel live chat input (LIVE only) -->
      <div class="sidechat__input hide" id="sideChatInput">
        <input id="sideChatInputField" class="textinput" type="text" placeholder="Send a message…" />
        <div class="sidechat__icons">
          <!-- Emote -->
          <svg width="22" height="22" viewBox="0 0 24 24" title="Emotes"><path fill="currentColor" d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm-3.5 7A1.5 1.5 0 1 1 12 9.5 1.5 1.5 0 0 1 8.5 9Zm8 0A1.5 1.5 0 1 1 18 9.5 1.5 1.5 0 0 1 16.5 9ZM7 14a5 5 0 0 0 10 0H7Z"/></svg>
          <!-- Gift -->
          <svg width="22" height="22" viewBox="0 0 24 24" title="Send a Gift"><path fill="currentColor" d="M20 7h-2.18a3 3 0 1 0-5.64-2H12a3 3 0 1 0-5.82 2H4a2 2 0 0 0-2 2v2h20V9a2 2 0 0 0-2-2ZM2 13v6a2 2 0 0 0 2 2h7v-8H2Zm11 8h7a2 2 0 0 0 2-2v-6h-9v8Z"/></svg>
        </div>
      </div>
    </aside>
  </main>

  <!-- Badge Legend Modal -->
  <div id="badgeModal" class="modal hidden" aria-hidden="true" role="dialog" aria-labelledby="badgeModalTitle">
    <div class="modal__backdrop" data-close-modal></div>
    <div class="modal__card">
      <div class="modal__head">
        <div id="badgeModalTitle" class="modal__title">Badge Legend</div>
        <button class="modal__close" data-close-modal aria-label="Close">✕</button>
      </div>
      <div id="badgeModalBody" class="modal__body"></div>
    </div>
  </div>

  <script type="module" src="src/app.js"></script>
</body>
</html>
